{% load static %}

<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <title>{% block titel %}comtura IT-Servicegesellschaft{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="{% static 'css/comtura.css' %}" rel="stylesheet">
    
    {% block extra_css %}{% endblock %}
</head>
<body class="bg-light">
    <!-- Navigation -->
    {% include 'navbar.html' %}
    
    <!-- Main Content -->
    <main class="container-fluid mt-4">
        {% if user.is_authenticated %}
            <!-- Dashboard für eingeloggte Benutzer -->
            <div class="row">
                <!-- Hauptbereich -->
                <div class="col-lg-10 mx-auto">
                    {% block content %}
                    <!-- Dashboard Cards -->
                    <div class="row">
                        <!-- Auftragsverwaltung -->
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="card shadow-sm">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="card-title mb-0">
                                        <i class="fas fa-tasks me-2"></i>Auftragsverwaltung
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled">
                                        <li><a href="/leistungsnachweis/create/" class="text-decoration-none">neuer Auftrag anlegen</a></li>
                                        <li><a href="/leistungsnachweis/" class="text-decoration-none">Leistungsnachweis erstellen</a></li>
                                        <li><a href="/leistungsnachweis/list/" class="text-decoration-none">Auftrag aktualisieren | ändern</a></li>
                                        <li><a href="/leistungsnachweis/overview/" class="text-decoration-none">Übersicht aller Aufträge</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Abrechnung -->
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="card shadow-sm">
                                <div class="card-header bg-success text-white">
                                    <h5 class="card-title mb-0">
                                        <i class="fas fa-euro-sign me-2"></i>Abrechnung
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled">
                                        <li><a href="#" class="text-decoration-none">Auftragsübersicht - Freigabe Buchhaltung</a></li>
                                        <li><a href="#" class="text-decoration-none">offene Kreditor-Abrechnungen</a></li>
                                        <li><a href="#" class="text-decoration-none">offene Debitor-Abrechnungen</a></li>
                                        <li><a href="#" class="text-decoration-none">Auftragsübersicht - Buchhaltung erledigt</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Artikelverwaltung -->
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="card shadow-sm">
                                <div class="card-header bg-warning text-white">
                                    <h5 class="card-title mb-0">
                                        <i class="fas fa-boxes me-2"></i>Artikelverwaltung
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled">
                                        <li><a href="/stockmgmt/list_items/" class="text-decoration-none">Bestandsübersicht</a></li>
                                        <li><a href="/stockmgmt/add_items/" class="text-decoration-none">Artikel anlegen</a></li>
                                        <li><a href="/stockmgmt/order/" class="text-decoration-none">Bestellung | Wareneingang</a></li>
                                        <li><a href="/stockmgmt/orders/" class="text-decoration-none">Übersicht Bestellungen</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Auftraggeberverwaltung -->
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="card shadow-sm">
                                <div class="card-header bg-info text-white">
                                    <h5 class="card-title mb-0">
                                        <i class="fas fa-building me-2"></i>Auftraggeberverwaltung
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <small class="text-muted">in construction</small>
                                    <ul class="list-unstyled mt-2">
                                        <li><a href="#" class="text-decoration-none">Auftraggeber anlegen</a></li>
                                        <li><a href="#" class="text-decoration-none">Auftraggeberdaten aktualisieren</a></li>
                                        <li><a href="#" class="text-decoration-none">Auftraggeber Übersicht</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Kundenverwaltung -->
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="card shadow-sm">
                                <div class="card-header bg-secondary text-white">
                                    <h5 class="card-title mb-0">
                                        <i class="fas fa-users me-2"></i>Kundenverwaltung
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled">
                                        <li><a href="#" class="text-decoration-none">Kunde anlegen</a></li>
                                        <li><a href="#" class="text-decoration-none">Kundendaten aktualisieren</a></li>
                                        <li><a href="#" class="text-decoration-none">Kunden Übersicht</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Zeiterfassung -->
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="card shadow-sm">
                                <div class="card-header bg-dark text-white">
                                    <h5 class="card-title mb-0">
                                        <i class="fas fa-clock me-2"></i>Zeiterfassung
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled">
                                        <li><a href="/zeiterfassung/timer/" class="text-decoration-none">Timer starten</a></li>
                                        <li><a href="/zeiterfassung/entries/" class="text-decoration-none">Zeiteinträge</a></li>
                                        <li><a href="/zeiterfassung/reports/" class="text-decoration-none">Stundenberichte</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endblock %}
                </div>
            </div>
        {% else %}
            <!-- Login-Bereich für nicht authentifizierte Benutzer -->
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card shadow">
                        <div class="card-header bg-primary text-white text-center">
                            <h3>Bitte melden Sie sich an</h3>
                        </div>
                        <div class="card-body text-center">
                            <p class="mb-4">Um auf das System zugreifen zu können, müssen Sie sich anmelden.</p>
                            <a href="/cms-admin/login/" class="btn btn-primary btn-lg">
                                <i class="fas fa-sign-in-alt me-2"></i>Zur Anmeldung
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>
